# [JPA ì‹¤ë¬´ íŒ¨í„´] 3/4 - @NoArgsConstructor ì‚¬ìš© ì´ìœ 

ğŸ·ï¸ê¸°ìˆ  ì¹´í…Œê³ ë¦¬: Design Pattern, JPA
ğŸ’¡í•µì‹¬í‚¤ì›Œë“œ: #JPA, #ë””ìì¸íŒ¨í„´, #í´ë¦°ì½”ë“œ, #í”„ë¡ì‹œ
ğŸ’¼ ë©´ì ‘ ë¹ˆì¶œë„: ìƒ
âš–ï¸ ì˜ì‚¬ê²°ì •(A vs B): No
ë‚ ì§œ: 2026ë…„ 1ì›” 8ì¼ ì˜¤í›„ 11:59
ğŸ“… ë‹¤ìŒ ë³µìŠµì¼: 2026ë…„ 1ì›” 21ì¼

## ğŸ§ @NoArgsConstructor(access = AccessLevel.PROTECTED)ë€?

Lombok ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ, **íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ê¸°ë³¸ ìƒì„±ì**ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ ì¤ë‹ˆë‹¤.

ì´ëŠ” JPA ì—”í‹°í‹°ë¥¼ ì„¤ê³„í•  ë•Œ **ê°ì²´ì˜ ì•ˆì •ì„±**ê³¼ **í”„ë ˆì„ì›Œí¬ì˜ ìš”êµ¬ì‚¬í•­** ì‚¬ì´ì—ì„œ ì™„ë²½í•œ ê· í˜•ì„ ì¡ê¸° ìœ„í•œ **Modern JPAì˜ í‘œì¤€ ê´€ë¡€**ì…ë‹ˆë‹¤.

---

## ğŸ› ï¸ ì™œ @NoArgsConstructorê°€ í•„ìš”í•œê°€?

### JPAì˜ ìš”êµ¬ì‚¬í•­

JPAëŠ” DBì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ, **ë¦¬í”Œë ‰ì…˜(Reflection)** ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ì ìœ¼ë¡œ ì´ ê¸°ë³¸ ìƒì„±ìë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

ë§Œì•½ ê¸°ë³¸ ìƒì„±ìê°€ ì—†ìœ¼ë©´ JPAëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ëª»í•˜ê³  ì—ëŸ¬ë¥¼ ë˜ì§‘ë‹ˆë‹¤.

---

## ğŸ”’ ì™œ `protected`ë¥¼ ì„¤ì •í•˜ëŠ”ê°€?

í•µì‹¬ì€ **"ì™œ `public`ì´ ì•„ë‹ˆë¼ `protected`ì¸ê°€?"**ì…ë‹ˆë‹¤.

### 1. ê°ì²´ì˜ ë¬´ë¶„ë³„í•œ ìƒì„± ë°©ì§€ (ê°ì²´ ë¬´ê²°ì„±)

ì—”í‹°í‹°ëŠ” ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ê°€ì§‘ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìˆ˜ê°•ê¶Œì€ ë°˜ë“œì‹œ `íšŒì› ID`, `ìƒí’ˆ ID`, `ì”ì—¬ íšŸìˆ˜`ê°€ ìˆì–´ì•¼ ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.

**`public`ì¼ ê²½ìš°:**

- ê°œë°œìê°€ ì½”ë“œ ì–´ë””ì„œë“  `new MemberTicket()`ì„ í˜¸ì¶œí•´ ë¹„ì–´ìˆëŠ”(ê»˜ë°ê¸°ë¿ì¸) ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ
- ì´ëŠ” ë°ì´í„° ì •í•©ì„±ì„ í•´ì¹˜ëŠ” ì›ì¸

**`protected`ì¼ ê²½ìš°:**

- **ì™¸ë¶€ íŒ¨í‚¤ì§€**ì—ì„œëŠ” `new` í‚¤ì›Œë“œë¡œ ìƒì„±ì´ ì°¨ë‹¨ë¨
- **ì—”í‹°í‹° ë‚´ë¶€**ë‚˜ **JPA í”„ë¡ì‹œ ê°ì²´**ëŠ” ìƒì† êµ¬ì¡°ë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥

> ì¦‰, "JPA í”„ë¡ì‹œ ê¸°ìˆ ì€ ì§€ì›í•˜ë©´ì„œ, ìš°ë¦¬ ê°œë°œíŒ€ì€ newë¡œ ì˜ëª» ìƒì„±í•˜ì§€ ë§ˆë¼"ëŠ” ì œì•½ ì¡°ê±´ì…ë‹ˆë‹¤.
> 

### 2. ì˜ë¯¸ ìˆëŠ” ìƒì„±ì(ë˜ëŠ” Builder) ì‚¬ìš© ìœ ë„

ë¬´ë¶„ë³„í•œ ìƒì„±ì„ ë§‰ê³ , ìš°ë¦¬ê°€ ì •ì˜í•œ **ìƒì„± ë©”ì„œë“œ**ë‚˜ **`@Builder`**ë¥¼ í†µí•´ì„œë§Œ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

---

## ğŸ’» Refactoring ë¹„êµ

### ì˜›ë‚  ë°©ì‹ (ìœ„í—˜í•¨)

```java
@Entity
public class MemberTicket {
    @Id @GeneratedValue private Long id;
    private int remainingCount;

    // ê¸°ë³¸ ìƒì„±ìê°€ Publicì´ë©´...
    public MemberTicket() {} 
}

// ê°œë°œì Aì˜ ì‹¤ìˆ˜
MemberTicket ticket = new MemberTicket(); // âŒ ë¹„ì–´ìˆëŠ” ìˆ˜ê°•ê¶Œì´ ìƒì„±ë¨
```

### ëª¨ë˜ ë°©ì‹ (ì•ˆì „í•¨)

```java
@Entity
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED) // â­ï¸ JPAë¥¼ ìœ„í•´ ë¬¸ì€ ì—´ì–´ë‘ë˜, ì ‘ê·¼ì€ ì œí•œ
public class MemberTicket {
    @Id @GeneratedValue private Long id;
    private int remainingCount;

    @Builder // â­ï¸ ì˜ë¯¸ ìˆëŠ” ìƒì„±ì„ ìœ ë„
    public MemberTicket(int remainingCount) {
        this.remainingCount = remainingCount;
    }
}

// ê°œë°œì Aì˜ ì‹œë„
// MemberTicket ticket = new MemberTicket(); // âŒ ì»´íŒŒì¼ ì—ëŸ¬! ì ‘ê·¼ ë¶ˆê°€
MemberTicket ticket = MemberTicket.builder().remainingCount(10).build(); // âœ… ì•ˆì „í•œ ìƒì„±
```

---

## ğŸ”‘ í•µì‹¬ ì •ë¦¬

### JPAëŠ” ì™œ ê¸°ë³¸ ìƒì„±ìê°€ í•„ìš”í•œê°€?

- JPAê°€ ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”
- Hibernateê°€ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œë„ ì‚¬ìš©

### ì™œ protectedë¡œ ì œí•œí•˜ëŠ”ê°€?

- **JPA í”„ë¡ì‹œ ìƒì„±ì€ í—ˆìš©** (ìƒì†ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥)
- **ì™¸ë¶€ì—ì„œì˜ ë¬´ë¶„ë³„í•œ new í˜¸ì¶œì€ ì°¨ë‹¨**
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë‹´ê¸´ **ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë‚˜ Builderë¥¼ í†µí•œ ìƒì„± ê°•ì œ**

---

## ğŸ’¡ ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ í¬ì¸íŠ¸

**ì§ˆë¬¸:** "ì—”í‹°í‹° ì„¤ê³„ ì‹œ ì™œ ê¸°ë³¸ ìƒì„±ìë¥¼ `protected`ë¡œ ì„¤ì •í•˜ì‹œë‚˜ìš”?"

**ëª¨ë²” ë‹µë³€:**

"JPA ê¸°ìˆ  ì‚¬ì–‘ ìƒ í”„ë¡ì‹œ ê°ì²´ ìƒì„±ì„ ìœ„í•´ ê¸°ë³¸ ìƒì„±ìê°€ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ publicìœ¼ë¡œ ì—´ì–´ë‘ë©´ ê°ì²´ì˜ ë¬´ê²°ì„±ì´ ê¹¨ì§ˆ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. AccessLevel.PROTECTEDë¥¼ ì‚¬ìš©í•˜ë©´ JPAì˜ í”„ë¡ì‹œ ìƒì„±ì€ í—ˆìš©í•˜ë©´ì„œ ì™¸ë¶€ì—ì„œì˜ ë¬´ë¶„ë³„í•œ new í˜¸ì¶œì„ ì°¨ë‹¨í•  ìˆ˜ ìˆì–´, ë³´ë‹¤ ì•ˆì „í•˜ê³  ê²¬ê³ í•œ ì—”í‹°í‹° ì„¤ê³„ë¥¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."

---

## ğŸ“š ì¶”ê°€ íŒ

### Enumì˜ ìƒì„±ìëŠ” í•­ìƒ private

Enumì˜ ìƒì„±ìëŠ” ë‚´ë¶€ì ìœ¼ë¡œ **private**ì…ë‹ˆë‹¤. ì™¸ë¶€ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```java
@Getter
@AllArgsConstructor // Enumì—ì„œëŠ” ìë™ìœ¼ë¡œ private ìƒì„±ì
public enum ReservationStatus {
    RSV("ì˜ˆì•½ì™„ë£Œ"),
    ATD("ì¶œì„"),
    CNCL("ì·¨ì†Œ");

    private final String description;
}
```