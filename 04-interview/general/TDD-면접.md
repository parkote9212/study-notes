---
tags:
  - interview
  - TDD
  - Testing
  - Backend
created: 2026-01-24
difficulty: ìƒ
---

# TDD ë©´ì ‘

## ì§ˆë¬¸
> TDD ê°œë…, Red-Green-Refactor ì‚¬ì´í´, ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ ì°¨ì´, Spring Boot í…ŒìŠ¤íŠ¸ ì‘ì„±ë²•

## í•µì‹¬ ë‹µë³€ (3ì¤„)
1. TDDëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³  Red-Green-Refactor ì‚¬ì´í´ì„ 5-10ë¶„ ë‹¨ìœ„ë¡œ ë°˜ë³µí•˜ëŠ” ê°œë°œ ë°©ë²•ë¡ 
2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” Mockìœ¼ë¡œ ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ, í†µí•© í…ŒìŠ¤íŠ¸ëŠ” Spring Contextë¥¼ ë¡œë“œí•˜ì—¬ ì‹¤í–‰
3. given-when-then íŒ¨í„´ìœ¼ë¡œ ê°€ë…ì„±ì„ ë†’ì´ê³  í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ(70-20-10) ë¹„ìœ¨ ì¤€ìˆ˜

## ìƒì„¸ ì„¤ëª…

### Q1: TDDë€ ë¬´ì—‡ì´ë©° ì™œ ì‚¬ìš©í•˜ë‚˜ìš”?

**A**: TDD(Test-Driven Development)ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³  ê·¸ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ì½”ë“œë¥¼ ë‚˜ì¤‘ì— ì‘ì„±í•˜ëŠ” ê°œë°œ ë°©ë²•ë¡ ì…ë‹ˆë‹¤.

**ì‚¬ìš© ì´ìœ **:
1. **í’ˆì§ˆ í–¥ìƒ**: í…ŒìŠ¤íŠ¸ê°€ ìë™ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ë²„ê·¸ê°€ 40-60% ê°ì†Œ
2. **ì„¤ê³„ ê°œì„ **: í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„±ìœ¼ë¡œ ëŠìŠ¨í•œ ê²°í•©ê³¼ ë†’ì€ ì‘ì§‘ë„ ë‹¬ì„±
3. **ì•ˆì „í•œ ë¦¬íŒ©í† ë§**: ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€ë¥¼ í…ŒìŠ¤íŠ¸ë¡œ ë³´ì¥
4. **ë¬¸ì„œí™”**: í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‚¬ìš©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ì‚´ì•„ìˆëŠ” ë¬¸ì„œ

**ì‹¤ë¬´ ê²½í—˜**: ì´ˆê¸° ê°œë°œ ì‹œê°„ 20% ì¦ê°€í•˜ì§€ë§Œ, ë²„ê·¸ ìˆ˜ì • ì‹œê°„ 60% ê°ì†Œë¡œ ì „ì²´ ìƒì‚°ì„± í–¥ìƒ

---

### Q2: Red-Green-Refactor ì‚¬ì´í´ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”

**A**: TDDì˜ í•µì‹¬ ê°œë°œ ì‚¬ì´í´ì…ë‹ˆë‹¤.

**ğŸ”´ Red (ì‹¤íŒ¨)**:
- ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±
- ì»´íŒŒì¼ ì—ëŸ¬ë„ "ì‹¤íŒ¨"ì— í¬í•¨
- ì˜ˆ: ì•„ì§ ì—†ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±

**ğŸŸ¢ Green (ì„±ê³µ)**:
- í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ìµœì†Œí•œì˜ ì½”ë“œë§Œ ì‘ì„±
- "ìµœì†Œí•œ"ì´ í•µì‹¬, í•˜ë“œì½”ë”©ë„ ê´œì°®ìŒ
- ì˜ˆ: `return 5;` ì²˜ëŸ¼ íŠ¹ì • ì¼€ì´ìŠ¤ë§Œ í†µê³¼ì‹œí‚¤ê¸°

**ğŸ”µ Refactor (ê°œì„ )**:
- ì¤‘ë³µ ì œê±°, ëª…í™•í•œ ì´ë¦„ ì‚¬ìš© ë“±ìœ¼ë¡œ ì½”ë“œ ê°œì„ 
- ë‹¨, í…ŒìŠ¤íŠ¸ëŠ” ê³„ì† í†µê³¼í•´ì•¼ í•¨
- ì˜ˆ: ë©”ì„œë“œ ì¶”ì¶œ, ë§¤ì§ ë„˜ë²„ ìƒìˆ˜í™”

ì´ ì‚¬ì´í´ì„ 5-10ë¶„ ë‹¨ìœ„ë¡œ ë¹ ë¥´ê²Œ ë°˜ë³µí•˜ë©° ì ì§„ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì™„ì„±í•©ë‹ˆë‹¤.

---

### Q3: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì°¨ì´ëŠ”?

**A**:

**ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)**:
- í•˜ë‚˜ì˜ í´ë˜ìŠ¤/ë©”ì„œë“œë§Œ í…ŒìŠ¤íŠ¸
- ì˜ì¡´ì„±ì€ Mockìœ¼ë¡œ êµì²´
- `@ExtendWith(MockitoExtension.class)` ì‚¬ìš©
- ë¹ ë¥¸ ì‹¤í–‰ ì†ë„
- ì˜ˆ: Service ë¡œì§ë§Œ í…ŒìŠ¤íŠ¸

**í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test)**:
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸
- Spring Contextë¥¼ ë¡œë“œ
- `@SpringBootTest` ì‚¬ìš©
- ëŠë¦° ì‹¤í–‰ ì†ë„
- ì˜ˆ: Controller â†” Service â†” Repository ì „ì²´ íë¦„

**ë¹„ìœ¨**: ë‹¨ìœ„(70%) > í†µí•©(20%) > E2E(10%)

---

### Q4: @Mockê³¼ @MockBeanì˜ ì°¨ì´ëŠ”?

**A**:

**@Mock (Mockito)**:
- Mockitoê°€ ì œê³µí•˜ëŠ” ìˆœìˆ˜ Mock
- Spring Contextì™€ ë¬´ê´€
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©
- `@ExtendWith(MockitoExtension.class)` í•„ìš”

```java
@ExtendWith(MockitoExtension.class)
class ServiceTest {
    @Mock
    private UserRepository userRepository;
    
    @InjectMocks
    private UserService userService;
}
```

**@MockBean (Spring Boot Test)**:
- Spring Contextì˜ Beanì„ Mockìœ¼ë¡œ êµì²´
- í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©
- `@SpringBootTest`ì™€ í•¨ê»˜ ì‚¬ìš©

```java
@SpringBootTest
class IntegrationTest {
    @MockBean
    private PaymentClient paymentClient;
    
    @Autowired
    private OrderService orderService;
}
```

---

### Q5: given-when-then íŒ¨í„´ì„ ì„¤ëª…í•˜ì„¸ìš”

**A**: í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ êµ¬ì¡°í™”í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

**given (ì¤€ë¹„)**:
- í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ë°ì´í„° ë° Mock ë™ì‘ ì •ì˜
- ì˜ˆ: í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±, Mock ì„¤ì •

**when (ì‹¤í–‰)**:
- ì‹¤ì œ í…ŒìŠ¤íŠ¸í•  ë™ì‘ ìˆ˜í–‰
- ì˜ˆ: í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ë©”ì„œë“œ í˜¸ì¶œ

**then (ê²€ì¦)**:
- ê²°ê³¼ê°€ ê¸°ëŒ€í•œ ëŒ€ë¡œì¸ì§€ ê²€ì¦
- ì˜ˆ: assertionìœ¼ë¡œ ê²€ì¦, verifyë¡œ í˜¸ì¶œ í™•ì¸

```java
@Test
void login_Success() {
    // given
    User user = User.builder().email("test@example.com").build();
    given(userRepository.findByEmail(any())).willReturn(Optional.of(user));
    
    // when
    JwtTokenResponse token = authService.login(request);
    
    // then
    assertThat(token).isNotNull();
}
```

ì´ íŒ¨í„´ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°€ë…ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ë©°, BDD(Behavior-Driven Development) ìŠ¤íƒ€ì¼ê³¼ë„ ì¼ì¹˜í•©ë‹ˆë‹¤.

---

### Q6: Testcontainersë¥¼ ì™œ ì‚¬ìš©í•˜ë‚˜ìš”?

**A**: í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ í”„ë¡œë•ì…˜ê³¼ ë™ì¼í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œ**:
- H2 ë‚´ì¥ DB ì‚¬ìš© ì‹œ MySQL/PostgreSQLê³¼ SQL ë°©ì–¸ ì°¨ì´ë¡œ í”„ë¡œë•ì…˜ ë¬¸ì œ ë°œìƒ

**Testcontainers ì¥ì **:
1. í”„ë¡œë•ì…˜ê³¼ ë™ì¼í•œ DBë¡œ í…ŒìŠ¤íŠ¸
2. í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ì‹œ ì»¨í…Œì´ë„ˆ ìë™ ì‚­ì œë¡œ ê¹¨ë—í•œ í™˜ê²½ ë³´ì¥
3. Dockerë¡œ ë‹¤ì–‘í•œ ì™¸ë¶€ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

### Q7: ArchUnitìœ¼ë¡œ ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•˜ë‚˜ìš”?

**A**: ì•„í‚¤í…ì²˜ ê·œì¹™ì„ ì½”ë“œë¡œ ê²€ì¦í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ê·œì¹™**:
1. **ê³„ì¸µ ì˜ì¡´ì„±**: ControllerëŠ” Serviceë§Œ í˜¸ì¶œ, Repository ì§ì ‘ í˜¸ì¶œ ê¸ˆì§€
2. **ëª…ëª… ê·œì¹™**: Controller í´ë˜ìŠ¤ëŠ” "Controller"ë¡œ ëë‚˜ì•¼ í•¨
3. **íŒ¨í‚¤ì§€ êµ¬ì¡°**: íŠ¹ì • íŒ¨í‚¤ì§€ ê°„ ìˆœí™˜ ì˜ì¡´ì„± ê¸ˆì§€

**íš¨ê³¼**: ì½”ë“œ ë¦¬ë·° ì—†ì´ë„ ì•„í‚¤í…ì²˜ ìœ„ë°˜ ìë™ ê°ì§€

---

### Q8: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œëŠ”?

**A**:
- í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§: 80-90%
- Service Layer: 70-80%
- Controller Layer: 60-70%
- ì „ì²´: 70% ì´ìƒ

**ì£¼ì˜**: ì»¤ë²„ë¦¬ì§€ 100%ë¥¼ ëª©í‘œë¡œ í•˜ë©´ ì˜ë¯¸ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì¦ê°€. Mutation Testingìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í’ˆì§ˆ ì¸¡ì • ê¶Œì¥

---

### Q9: TDDì˜ ë‹¨ì ê³¼ ê·¹ë³µ ë°©ë²•ì€?

**A**:

**ë‹¨ì  1: ì´ˆê¸° ê°œë°œ ì†ë„ ê°ì†Œ**
- ê·¹ë³µ: ì¥ê¸°ì ìœ¼ë¡œ ë²„ê·¸ ìˆ˜ì • ì‹œê°„ ê°ì†Œë¡œ ì´ ê°œë°œ ì‹œê°„ ê°ì†Œ

**ë‹¨ì  2: ëŸ¬ë‹ ì»¤ë¸Œ**
- ê·¹ë³µ: ì‘ì€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¶€í„° ì‹œì‘, íŒ€ ì „ì²´ê°€ í•¨ê»˜ í•™ìŠµ

**ë‹¨ì  3: ëª¨ë“  ê²ƒì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ì—†ìŒ**
- ê·¹ë³µ: í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ ì¤€ìˆ˜ (ë‹¨ìœ„ 70% > í†µí•© 20% > E2E 10%)

---

### Q10: Flaky Testë¥¼ ë°©ì§€í•˜ëŠ” ë°©ë²•ì€?

**A**:

```java
// âŒ ë‚˜ì¨: ì‹œê°„ ì˜ì¡´ì 
Thread.sleep(1000);

// âœ… ì¢‹ìŒ: ëª…ì‹œì  ëŒ€ê¸°
await()
    .atMost(Duration.ofSeconds(5))
    .until(() -> result != null);

// âŒ ë‚˜ì¨: í˜„ì¬ ì‹œê°„ ì˜ì¡´
LocalDate today = LocalDate.now();

// âœ… ì¢‹ìŒ: ì‹œê°„ ê³ ì •
Clock fixedClock = Clock.fixed(Instant.parse("2024-01-01T00:00:00Z"), ZoneId.of("UTC"));
LocalDate fixedDate = LocalDate.now(fixedClock);
```

## ê¼¬ë¦¬ ì§ˆë¬¸ ì˜ˆìƒ
- Mutation Testingì´ë€?
- Test Fixture íŒ¨í„´ì€?
- @DataJpaTestì˜ ë™ì‘ ì›ë¦¬ëŠ”?
- Spring Cloud ContractëŠ” ë¬´ì—‡ì¸ê°€ìš”?

## ì°¸ê³ 
- [[TDD-ê¸°ì´ˆ-Red-Green-Refactor]]
- [[TDD-Spring-Boot-í…ŒìŠ¤íŠ¸]]
- [[Testcontainers]]
- [[ArchUnit]]
